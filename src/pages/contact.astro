---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
---

<Layout title="Arsenicxxx">
    <body>
        <!-- Formulario con campos requeridos -->
        <form onsubmit="return validarFormulario()">
            <label for="nombre">Nombre:</label>
            <input class="text-black" type="text" id="nombre" required /><br />

            <label for="apellido">Apellido:</label>
            <input class="text-black" type="text" id="apellido" required /><br
            />

            <label for="mail">Mail:</label>
            <input class="text-black" type="email" id="mail" required /><br />

            <label for="mensaje">Mensaje:</label>
            <textarea class="text-black" id="mensaje" required></textarea><br />

            <input type="submit" value="Enviar" />
        </form>
        <!-- Capa oscura de fondo -->
        <div class="overlay" onclick="ocultarPopup()"></div>

        <!-- Contenido del pop-up -->
        <div class="popup" id="miPopup">
            <h2>Error</h2>
            <p>
                Por favor, completa todos los campos antes de enviar el
                formulario.
            </p>
            <button onclick="ocultarPopup()">Cerrar</button>
        </div>

        <script>
            function validarFormulario() {
                // Obtener los campos del formulario
                const nombre = document.getElementById("nombre").value;
                const apellido = document.getElementById("apellido").value;
                const mail = document.getElementById("mail").value;
                const mensaje = document.getElementById("mensaje").value;

                // Validar si los campos están vacíos
                if (
                    nombre === "" ||
                    apellido === "" ||
                    mail === "" ||
                    mensaje === ""
                ) {
                    // Mostrar el pop-up y la capa oscura de fondo
                    document.getElementById("miPopup").style.display = "block";
                    document.getElementsByClassName(
                        "overlay"
                    )[0].style.display = "block";
                    return false; // Detener el envío del formulario
                }

                // Si los campos están completos, el formulario se enviará
                return true;
            }

            function ocultarPopup() {
                // Ocultar el pop-up y la capa oscura de fondo
                document.getElementById("miPopup").style.display = "none";
                document.getElementsByClassName("overlay")[0].style.display =
                    "none";
            }
        </script>
    </body>
</Layout>
<style>
    /* Estilo para el pop-up */
    .popup {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 300px;
        padding: 20px;
        border: 1px solid #ccc;
        background-color: #fff;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        z-index: 9999;
    }
    /* Estilo para la capa oscura de fondo */
    .overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        z-index: 9998;
    }
</style>
